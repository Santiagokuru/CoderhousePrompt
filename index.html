<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CatchBot Coderhouse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4 bg-gray-100 dark:bg-gray-900">
    <header class="text-4xl font-bold mb-8 text-gray-800 dark:text-white">
        CatchBot Coderhouse
    </header>
    <main class="flex flex-col items-center justify-center w-full max-w-3xl p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
        <img src="https://aunoa.ai/wp-content/uploads/2024/05/tipos-de-chatbots.webp" alt="Robot Image" class="w-32 h-32 mb-4 rounded-full">
        <p class="text-lg text-center mb-6 text-gray-700 dark:text-gray-300">
            Bienvenido a CatchBot Coderhouse. ¿En qué puedo ayudarte hoy?
        </p>
        <div id="chatbot" class="w-full h-96 bg-gray-100 dark:bg-gray-700 rounded-lg p-4 overflow-y-auto mb-4">
            <!-- Chatbot messages will go here -->
        </div>
        <input type="text" id="userInput" placeholder="Escribe tu mensaje..." class="w-full p-4 rounded-lg border border-gray-300 dark:border-gray-600 mb-2 text-gray-800 dark:text-white bg-white dark:bg-gray-700">
        <button id="sendButton" class="w-full p-4 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
            Enviar
        </button>
    </main>
    <script>
        // Simple script to simulate sending a message
        document.getElementById('sendButton').addEventListener('click', function() {
            const userInput = document.getElementById('userInput').value;
            if (userInput.trim() !== '') {
                const chatbot = document.getElementById('chatbot');
                const userMessage = document.createElement('div');
                userMessage.className = 'text-right mb-2';
                userMessage.innerHTML = `<span class="inline-block p-2 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 rounded-lg">${userInput}</span>`;
                chatbot.appendChild(userMessage);
                document.getElementById('userInput').value = '';
                chatbot.scrollTop = chatbot.scrollHeight;
            }
        });

        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('sendButton').click();
            }
        });

        // Embed Voiceflow Chatbot
        (function(d, t) {
            var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
            v.onload = function() {
                window.voiceflow.chat.load({
                    verify: { projectID: '67e47a1b30a742c28e6c6f71' },
                    url: 'https://general-runtime.voiceflow.com',
                    versionID: 'production',
                    voice: {
                        url: "https://runtime-api.voiceflow.com"
                    },
                    render: {
                        mode: 'embedded',
                        target: document.getElementById('chatbot')
                    }
                });
            }
            v.src = "https://cdn.voiceflow.com/widget-next/bundle.mjs";
            v.type = "text/javascript";
            s.parentNode.insertBefore(v, s);
        })(document, 'script');
    </script>
</body>
</html>
